

# ğŸ”„ Processes vs Services (Deep Fundamentals â€“ SOC View)

---

## ğŸ”¹ What is a Process

### âœ… What

A **process** is a running instance of a program.

* Starts when an application is launched
* Ends when the application closes
* Usually runs under a user context

Examples:

* `chrome.exe`
* `powershell.exe`
* `python`

---

### ğŸ“ Where to check

* Endpoints
* Servers
* Suspicious alerts involving execution

---

### ğŸ” How to check

**Windows**

```cmd
tasklist
```

Task Manager â†’ Processes / Details

**Linux**

```bash
ps aux
top
```

---

### â“ Why SOC checks processes

* Malware runs as a process
* Initial compromise usually appears here
* Process name, parent, and path reveal intent

---

### ğŸ“ Common process paths

**Windows**

```
C:\Windows\System32\
C:\Program Files\
C:\Users\<user>\AppData\
```

**Linux**

```
/usr/bin/
/usr/local/bin/
/tmp/
/home/<user>/
```

---

### ğŸ“„ Sample log (Process creation)

**Windows â€“ Event ID 4688**

```
A new process has been created
Process Name: C:\Users\user\AppData\evil.exe
Parent Process: winword.exe
```

---

### ğŸ§° 3rd-party tools

* EDR platforms
* Sysinternals Process Explorer
* OSQuery

---

## ğŸ”¹ What is a Service

### âš™ï¸ What

A **service** is a background process that:

* Starts automatically
* Runs without user interaction
* Often runs with high privileges

Examples:

* Windows Update
* Database services
* Web servers

---

### ğŸ“ Where to check

* Startup behavior
* Persistence mechanisms
* Server workloads

---

### ğŸ” How to check

**Windows**

```cmd
services.msc
sc query
```

**Linux**

```bash
systemctl list-units --type=service
```

---

### â“ Why SOC checks services

* Malware uses services for persistence
* Services often run as SYSTEM/root
* Harder to notice than normal apps

---

### ğŸ“ Common service paths

**Windows**

```
C:\Windows\System32\services.exe
HKLM\SYSTEM\CurrentControlSet\Services
```

**Linux**

```
/etc/systemd/system/
/lib/systemd/system/
```

---

### ğŸ“„ Sample logs

**Windows â€“ Service install**

```
Event ID 7045
A service was installed in the system
Service Name: WindowsUpdateHelper
```

**Linux**

```
systemd: Started suspicious.service
```

---

### ğŸ§° 3rd-party tools

* Autoruns (Sysinternals)
* EDR persistence view
* OSQuery

---

## ğŸ” Process vs Service (SOC Comparison)

| Area        | Process     | Service        |
| ----------- | ----------- | -------------- |
| Trigger     | User action | System startup |
| Visibility  | High        | Low            |
| Persistence | No          | Yes            |
| Privilege   | User-level  | SYSTEM/root    |
| SOC Risk    | Medium      | High           |

---

## ğŸ§  SOC Mindset (Very Important)

Most attacks follow this flow:

1. Initial execution â†’ **Process**
2. Privilege escalation
3. Persistence â†’ **Service**

If you see:

* Unknown service names
* Services pointing to user folders
* Services created recently

â¡ï¸ Treat as **high-risk persistence**

---

## ğŸ“Œ Real-world red flags

* Service binary in `AppData`
* Service name mimicking Windows
* Service created outside patch windows

